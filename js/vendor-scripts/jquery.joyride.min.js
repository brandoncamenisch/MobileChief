/*
 * jQuery Joyride Plugin 1.0.3
 * www.ZURB.com/playground
 * Copyright 2011, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/(function(e){e.fn.joyride=function(t){var n={tipLocation:"bottom",scrollSpeed:300,timer:0,startTimerOnClick:!1,nextButton:!0,tipAnimation:"pop",tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"JoyRide",cookieDomain:!1,tipContainer:"body",inline:!1,tipContent:"#joyRideTipContent",postRideCallback:e.noop,postStepCallback:e.noop},t=e.extend(n,t);return this.each(function(){if(e(t.tipContent).length===0)return;e(t.tipContent).hide();var r=e(t.tipContainer).children("*").first().position(),i=e(t.tipContent+" li"),s=skipCount=0,o=-1,u,a='<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',f=function(t,n,r,i){return'<div class="joyride-tip-guide '+t+'" id="joyRidePopup'+n+'"><span class="joyride-nub"></span>'+e(i).html()+r+'<a href="#close" class="joyride-close-tip">X</a>'+u+"</div>"},l=function(r,i,s,o){i==0&&n.startTimerOnClick&&n.timer>0||n.timer==0?u="":u=a;r||(r="");s!=""?s='<a href="#" class="joyride-next-tip small nice radius yellow button">'+s+"</a>":s="";n.inline?e(f(r,i,s,o)).insertAfter("#"+e(o).data("id")):e(t.tipContainer).append(f(r,i,s,o))};(!n.cookieMonster||!e.cookie(n.cookieName))&&i.each(function(t){var r=e(this).data("text"),i=e(this).attr("class"),s=this;n.nextButton&&r==undefined&&(r="Next");n.nextButton||!n.nextButton&&n.startTimerOnClick?e(this).attr("class")?l(i,t,r,s):l(!1,t,r,s):n.nextButton||(e(this).attr("class")?l(i,t,"",s):l(!1,t,"",s));e("#joyRidePopup"+t).hide()});showNextTip=function(){var u=e(i[s]).data("id"),a=e("#"+u),f={};(e(i[s]).data("options")||":").split(";").map(function(e){var t=e.split(":");t.length==2&&(f[t[0].trim()]=t[1].trim())});t=e.extend(t,f);n=e.extend(n,f);while(a.offset()===null){s++;skipCount++;i.length-1>o?o++:o;u=e(i[s]).data("id"),a=e("#"+u);if(e(i).length<s)break}var l=Math.ceil(e(window).height()/2),c=e("#joyRidePopup"+s),h=a.offset(),p=a.outerHeight(),d=c.outerHeight(),v=Math.ceil(e(".joyride-nub").outerHeight()/2),m=0;if(c.length===0)return;if(s<i.length){if(n.tipAnimation=="pop"){e(".joyride-timer-indicator").width(0);n.timer>0?c.show().children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:e(".joyride-timer-indicator-wrap").width()},n.timer):c.show()}else if(n.tipAnimation=="fade"){e(".joyride-timer-indicator").width(0);n.timer>0?c.fadeIn(n.tipAnimationFadeSpeed).children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:e(".joyride-timer-indicator-wrap").width()},n.timer):c.fadeIn(n.tipAnimationFadeSpeed)}if(n.tipLocation=="bottom"){c.offset({top:h.top+p+v,left:h.left-r.left});c.children(".joyride-nub").addClass("top").removeClass("bottom")}else if(n.tipLocation=="top")if(d>=h.top){c.offset({top:h.top+p+v-r.top,left:h.left-r.left});c.children(".joyride-nub").addClass("top").removeClass("bottom")}else{c.offset({top:h.top-(d+r.top+v),left:h.left-r.left});c.children(".joyride-nub").addClass("bottom").removeClass("top")}m=Math.ceil(c.offset().top-l);e("html, body").animate({scrollTop:m},n.scrollSpeed);if(s>0){if(skipCount>0){var g=o-skipCount;skipCount=0}else var g=o;n.tipAnimation=="pop"?e("#joyRidePopup"+g).hide():n.tipAnimation=="fade"&&e("#joyRidePopup"+g).fadeOut(n.tipAnimationFadeSpeed)}}else if(i.length-1<s){if(skipCount>0){var g=o-skipCount;skipCount=0}else var g=o;n.cookieMonster==1&&e.cookie(n.cookieName,"ridden",{expires:365,domain:n.cookieDomain});n.tipAnimation=="pop"?e("#joyRidePopup"+g).fadeTo(0,0):n.tipAnimation=="fade"&&e("#joyRidePopup"+g).fadeTo(n.tipAnimationFadeSpeed,0)}s++;o<0?o=0:i.length-1>o&&o++;n.postStepCallback!=e.noop&&n.postStepCallback(o)};(!n.inline||!n.cookieMonster||!e.cookie(n.cookieName))&&e(window).resize(function(){var t=e(i[o]).data("id"),r=e("#"+t).offset(),s=e("#"+t).outerHeight(),u=e("#joyRidePopup"+o).outerHeight(),a=Math.ceil(e(".joyride-nub").outerHeight()/2);n.tipLocation=="bottom"?e("#joyRidePopup"+o).offset({top:r.top+s+a,left:r.left}):n.tipLocation=="top"&&(r.top<=u?e("#joyRidePopup"+o).offset({top:r.top+a+s,left:r.left}):e("#joyRidePopup"+o).offset({top:r.top-(u+a),left:r.left}))});var c=null,h=!1;if(!n.startTimerOnClick&&n.timer>0){showNextTip();c=setInterval(function(){showNextTip()},n.timer)}else showNextTip();var p=function(t,r,i,s){t.preventDefault();clearInterval(r);i&&e.cookie(n.cookieName,"ridden",{expires:365,domain:n.cookieDomain});e(s).parent().hide();n.postRideCallback!=e.noop&&n.postRideCallback()};e(".joyride-close-tip").click(function(e){p(e,c,n.cookieMonster,this)});e(".joyride-next-tip").click(function(e){e.preventDefault();s>=i.length&&p(e,c,n.cookieMonster,this);if(n.timer>0&&n.startTimerOnClick){showNextTip();clearInterval(c);c=setInterval(function(){showNextTip()},n.timer)}else if(n.timer>0&&!n.startTimerOnClick){clearInterval(c);c=setInterval(function(){showNextTip()},n.timer)}else showNextTip()})})};jQuery.cookie=function(e,t,n){if(arguments.length>1&&String(t)!=="[object Object]"){n=jQuery.extend({},n);if(t===null||t===undefined)n.expires=-1;if(typeof n.expires=="number"){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}t=String(t);return document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var s,o=n.raw?function(e){return e}:decodeURIComponent;return(s=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?o(s[1]):null}})(jQuery);